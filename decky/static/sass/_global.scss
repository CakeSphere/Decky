/* Styles that are used throughout the application */

/* Style elements (usually text) when selected by user */
::-moz-selection { 
  background: tint($color-background, 35%); 
  color: transparentize($color-text, 0.3); 
}

::selection { 
  background: tint($color-background, 35%); 
  color: transparentize($color-text, 0.3); 
}

html {
  /* Setting a base font-size. All other font-sizes should be in rems */
  /* (multiples of this font-size)*/
  font-size: $font-size;
}

body {
  background: $color-background;
  color: $color-text;
  font-family: $font-family-text;
  font-size: $font-size-default;
  /* padding-top: 5rem;*/
  /* Opentype options*/
  font-variant-numeric: lining-nums;
  -webkit-font-feature-settings: 'lnum', 'dlig';
          font-feature-settings: 'lnum', 'dlig';
  -webkit-font-smoothing: antialiased;
          font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-variant-ligatures: discretionary-ligatures;
          font-variant-ligatures: discretionary-ligatures;
}


aside {
  /* Sidebars for search filters or card/deck info*/
  display: inline-block;
  width: 280px;
  > h3:first-child {
    /* Making sure things like up with the main content*/
    margin-top: 0.6rem;
  }
  label {
    display: block;
  }
}

section {
  /* Main content section*/
  width: calc(100% - 356px - 2rem);
  vertical-align: top;
  display: inline-block;
}

aside + section {
  margin-top: 2rem;
}

h1,
h2,
h3,
h4,
h5 {
  font-family: $font-family-display;
  font-weight: bold;
}

h2 { font-size: $font-size-h2; }
h3 { font-size: $font-size-h3; }

h1 {
  font-style: italic;
  font-size: $font-size-h1;
  svg {
    height: $font-size-h1;
    max-width: $font-size h1;
    fill: $color-text;
    float: left;
    position: relative;
    bottom: -3px;
    margin-right: 0.5rem;
  }
}

h3 {
  font-family: $font-family-text;
  font-weight: normal;
  color: $color-text-weak;
  em {
    color: $color-text;
  }
}

a {
  color: $color-primary;
  text-decoration: none;
  -webkit-transition: color $transition;
          transition: color $transition;
  &:hover {
    color: shade($color-primary, 15%);
    @include underline(shade($color-primary, 15%), $color-background);
  }
  &:active {
    color: shade($color-primary, 25%);
    @include underline(shade($color-primary, 25%), $color-background);
  }
  &::-moz-selection { color: transparentize($color-primary, 0.3); }
  &::selection { color: transparentize($color-primary, 0.3); }
  &:hover::-moz-selection { text-shadow: none; }
  &:hover::selection { text-shadow: none; }
}

hr {
  border-top: 1px solid $color-background-tint;
  border-bottom: 0;
}


p {
  /* Currently only used on card.html; May need to be more specific*/
  font-family: $font-family-display;
  font-weight: 300;
}

/* Magic colors*/
/* These classes are used to easily color text referring to the five Magic */
/* colors*/

.u { color: $color-mtg-u }
.w { color: $color-mtg-w }
.r { color: $color-mtg-r }
.g { color: $color-mtg-g }
.b { color: $color-mtg-b }

/* Utility classes*/

/* Easily float elements or clear those floats with these classes*/
.pull-left   { float: left; }
.pull-right  { float: right; }
.clearfix    { @include clearfix; }

/* Text alignment classes; justify is not used*/
.text-left   { text-align: left; }
.text-center { text-align: center; }
.text-right  { text-align: right; }

/* Remove all styling (bullets or numbers) from a ul or ol element*/
.list-unstyled {
  list-style: none; 
  padding-left: 0;
}

/* Adjustments to the sizes of mana symbols; see _mana.scss*/
.mana {
  color: transparent;
  &.small {
    width: 0.888rem;
    height: 0.888rem;
  }
  &.medium {
    width: 1.333rem;
    height: 1.333rem;
  }
  &.medium.sE {
    width: 1rem;
    height: 1rem;
    background-color: $color-mtg-c;
    background-position: 88.75% 81.75%;
    border: 2.25px solid $color-mtg-c;
    border-radius: 100%;
    line-height: 1.1;
  }
  &::-moz-selection { background: initial; color: transparent; }
  &::selection { background: initial; color: transparent; }
}

/* Set symbols */
i.ss-common { -webkit-text-stroke: 0.03em $color-text; }
i.ss-rare.ss-grad, i.ss-uncommon.ss-grad, i.ss-mythic.ss-grad { -webkit-text-stroke: 0.03em $color-border-strong; }


/* These styles are only used on show_entries.html; will be deprecated*/

ul.cards-info {
  margin-bottom: 3rem;
  margin-top: 3rem;
  -webkit-column-count: 3;
          column-count: 3;
  -webkit-column-gap: 1rem;
          column-gap: 1rem;
  -webkit-column-rule: solid $color-background-tint 1px;
          column-rule: solid $color-background-tint 1px;
}

.value {
  display: inline-block;
  width: calc(50% - 1rem);
}

.low-graphics {
  *, *::before, *::after {
    text-shadow: none !important;
    -webkit-transition: none !important;
            transition: none !important;
    -webkit-animation: none !important;
            animation: none !important;
    -webkit-box-shadow: none !important;
            box-shadow: none !important;
    -webkit-mask-image: none !important;
            mask-image: none !important;
  }

  .deck::after, .card::after, .card-bg {
    display: none !important;
  }
}

table {
  width: 100%;
  background: $color-background-tint;
  border-collapse: collapse;
  a:hover {
    @include underline(shade($color-primary, 15%), $color-background-tint);
  }
  thead {
    background: tint($color-background-tint, 5%);
  }
  tbody tr {
    &:first-child {
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    &:nth-child(even) {
      background: tint($color-background-tint, 2.5%);
      a:hover {
        @include underline(shade($color-primary, 15%), tint($color-background-tint, 2.5%));
      }
    }
    &:last-child {  
      box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.15);
      td {
        padding-bottom: calc(0.3rem + 2px);
      }
    }
  }
  td, th {
    border-bottom: 1px solid transparentize($color-border-strong, 0.95);
    border-right: 1px solid shade($color-text-weak, 78%);
    border-top: 1px solid transparentize($color-text, 0.95);
    padding: 0.3rem;
    color: $color-text-weak;
    transition: $transition;
    &:last-child {
      border-right: none;
    }
  }
  th {
    position: relative;
    text-align: left;
    font-weight: normal;
    color: shade($color-text-weak, 20%);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
    border-right: 1px solid shade($color-text-weak, 75%);
    &:hover {
      cursor: pointer;
      background: tint($color-background-tint, 10%);
    }
    &:last-child {
      border-top-right-radius: $border-radius;
      border-right: 0;
    }
    &.desc:after, &.asc:after {
      position: absolute;
      top: 0.6rem;
      right: 0.6rem;
      font-size: 0.5rem;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
    }
    &.desc:after {
      content: '▼';
    }
    &.asc:after {
      content: '▲';
    }
  }
}

.tabs {
  position: relative;
  display: inline-block;
  z-index: $z-index-baseline;
  .btn.active {
    color: $color-text;
    background: tint($color-background, 10%);
    box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.15),
                inset 0 0 4px rgba(255, 255, 255, 0.05),
                0 2px 3px rgba(0, 0, 0, 0.15);
  }
}
